---
title: 'Propositions: Part 4'
date: 2025-10-06
permalink: /posts/2025/10/blog-post-6/
tags:
  - lean
  - logic
  - propositions
  - exclusive or
---

In our previous discussions of disjunction, we introduced two interpretations: inclusive "or" (where both statements can be true) and exclusive "or" (where exactly one statement must be true). Today, we'll dive deep into exclusive or (XOR) and how it relates to mutual exclusivity in mathematics.

# Understanding Mutual Exclusivity

In mathematics, we often encounter properties that cannot occur simultaneously. For example:
- A number cannot be both even and odd
- A real number being either rational or irrational
- An element cannot be both in a set and not in a set

This concept of mutual exclusivity is fundamental to mathematical reasoning. When two properties are mutually exclusive, they cannot be true at the same time - the truth of one implies the falsity of the other.

# Expressing XOR in Lean

Lean provides multiple ways to work with exclusive or. Let's explore them:

## 1. Boolean XOR

The simplest form is the boolean `xor` function:
```lean 
#check xor -- Bool -> Bool -> Bool
The type of this function takes two Bool arguments and returns a Bool. In Lean, `True` and `False` are boolean literals.
-- Truth table:
#eval xor True True   -- false (can't both be true)
#eval xor False False -- false (can't both be false)
#eval xor True False  -- true  (exactly one is true)
#eval xor False True  -- true  (exactly one is true)
```
xor evaluates to `True` when the booleans have different values and `False` otherwise. To work with propositions, we need to use `Xor'`.

## 2. Proposition-Level XOR

For logical proofs, `Xor'` works with propositions:

```lean
import Mathlib.Tactic

def Xor' (p q : Prop) : Prop := (p ∧ ¬q) ∨ (q ∧ ¬p)
```

This definition directly captures the meaning of XOR: either `p` is true and `q` is false, OR `q` is true and `p` is false. You can compute the truth table for `(p ∧ ¬q) ∨ (q ∧ ¬p)` to convince yourself of this equivalence.

# Three Equivalent Definitions

What makes XOR fascinating is that it can be defined in three equivalent ways:

1. Direct Definition: `(p ∧ ¬q) ∨ (q ∧ ¬p)`
   - "Either p is true and q is false, or q is true and p is false"

2. Using OR and NOT-AND: `(p ∨ q) ∧ ¬(p ∧ q)`
   - "At least one is true, but not both"

3. Using inequality: `p ≠ q`
   - "p and q have different truth values"

These three definitions are logically equivalent, and each offers a different perspective on what XOR means.

# Key Properties of XOR

## 1. Symmetry

XOR is symmetric - it doesn't matter which proposition we write first:
```lean
theorem xor_symm (p q : Prop) : Xor' p q ↔ Xor' q p := by
  -- This is true because "p XOR q" means the same as "q XOR p"
```

## 2. Mutual Exclusivity

The very definition of XOR ensures mutual exclusivity:
```lean
theorem xor_exclusive (p q : Prop) (h : Xor' p q) : ¬(p ∧ q) := by
  -- If p XOR q is true, then p and q cannot both be true
```

## 3. Exhaustiveness with Decidable Propositions

For decidable propositions (ones where we can determine if they're true or false), XOR splits into exactly two possibilities:
```lean
theorem xor_decidable (p q : Prop) [Decidable p] [Decidable q] :
  p XOR q ↔ (p ∧ ¬q) ∨ (¬p ∧ q)
```

# Practical Examples

Let's look at some mathematical examples where XOR naturally appears:

1. Even vs Odd:
```lean
def Even (n : ℕ) : Prop := ∃ k, n = 2 * k
def Odd (n : ℕ) : Prop := ∃ k, n = 2 * k + 1

-- Every natural number is either even XOR odd
theorem even_xor_odd (n : ℕ) : Xor' (Even n) (Odd n)
```

2. Set Membership:
```lean
-- For any element x and set A:
-- x is either in A XOR not in A
theorem in_xor_not_in {α : Type} (x : α) (A : Set α) :
  Xor' (x ∈ A) (x ∉ A)
```

# Why XOR Matters

XOR is crucial in mathematics because it helps us:
1. Express mutually exclusive alternatives clearly
2. Prove properties about classifications (like even/odd)
3. Establish fundamental logical relationships
4. Formalize the concept of "exactly one of these is true"

In our next post, we'll explore more complex proofs involving XOR and see how it interacts with other logical operators.

## Exercises

1. Prove that if p XOR q is true, then p and q cannot both be true.
2. Show that XOR is symmetric (p XOR q ↔ q XOR p).
3. Prove that for any proposition p, p XOR p is false.
4. Given p XOR q and q XOR r, what can you say about p XOR r?